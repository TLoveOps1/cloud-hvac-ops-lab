# Runbook: High Temperature Alarm

## Incident Type
High Temperature Alarm (Temperature consistently above 80°F for 5 minutes)

## Severity
Critical

## Affected Components
`sensor-service`, `monitoring-service`, `thermostat-controller` (simulated)

## Trigger Conditions
*   `monitoring-service` detects `temperature > 80°F` for `5 minutes` from any `sensor-service` instance.
*   Alert generated by `alerting-service`.

## Automated Remediation (if applicable)
*   `automation-service` attempts to trigger `cooling_logic` in the `thermostat-controller` (simulated).
*   Monitors temperature for `5 minutes` after remediation attempt.

## Operator Actions

### 1. Acknowledge Alert
*   Acknowledge the alert in your primary alerting tool (e.g., PagerDuty, Slack).

### 2. Check System Health Dashboard
*   Access the [System Health Dashboard](https://dashboard.cloud-hvac.example.com) (placeholder).
*   Verify the current temperature readings for the affected sensor (`component` in alert).
*   Check the overall system status.

### 3. Review Incident Logs
*   Access the `logging-service` (e.g., via Kibana/Grafana logs).
*   Search for the incident ID or `component` to review the full incident timeline, including automated remediation attempts and their outcomes.

### 4. Manual Intervention (if automated remediation failed)
If automated cooling logic did not resolve the issue within 5 minutes, or if the `automation-service` reported a failure:

*   **Verify Thermostat Controller Status (Simulated)**:
    *   Check logs of the `thermostat-controller` (if accessible) for any errors or unexpected behavior.
    *   Consider manually restarting the `thermostat-controller` service (if applicable in your environment).

*   **Inspect Sensor Data Source**: 
    *   If the temperature is still high, check the physical environment (if this were a real system) or the simulated `sensor-service` logs for anomalies.
    *   Consider restarting the affected `sensor-service` instance.

*   **Escalate**: If the issue persists after manual intervention, escalate to the SRE/On-Call team lead.

### 5. Resolution
*   Once the temperature returns to normal range (68-75°F) and stabilizes:
    *   Update the incident status in the `logging-service` to `resolved`.
    *   Document all manual actions taken in the incident record.
    *   Initiate a post-mortem if the incident was critical or recurring.

## Post-Mortem Trigger
*   If the incident caused significant impact (e.g., prolonged high temperature, service degradation) or required manual intervention, a post-mortem is required.
*   Refer to the [Post-Mortem Template](docs/postmortems/template.md).

## Contact
*   **SRE Team**: #sre-oncall (Slack)
*   **DevOps Team**: #devops-support (Slack)
