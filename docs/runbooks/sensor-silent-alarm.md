# Runbook: Sensor Silent Alarm

## Incident Type
Sensor Silent Alarm (No data received from sensor for > 2 minutes)

## Severity
Critical

## Affected Components
`sensor-service`, `monitoring-service`

## Trigger Conditions
*   `monitoring-service` detects no data from a specific `sensor-service` instance for `> 2 minutes`.
*   Alert generated by `alerting-service`.

## Automated Remediation (if applicable)
*   `automation-service` attempts to trigger `sensor_service_reset` for the affected `sensor-service` instance.
*   Monitors for data resumption for `1 minute` after remediation attempt.

## Operator Actions

### 1. Acknowledge Alert
*   Acknowledge the alert in your primary alerting tool (e.g., PagerDuty, Slack).

### 2. Check System Health Dashboard
*   Access the [System Health Dashboard](https://dashboard.cloud-hvac.example.com) (placeholder).
*   Verify the status of the affected sensor (`component` in alert).
*   Check the overall system status.

### 3. Review Incident Logs
*   Access the `logging-service` (e.g., via Kibana/Grafana logs).
*   Search for the incident ID or `component` to review the full incident timeline, including automated remediation attempts and their outcomes.

### 4. Manual Intervention (if automated remediation failed)
If automated sensor service reset did not resolve the issue within 1 minute, or if the `automation-service` reported a failure:

*   **Inspect Sensor Service Logs**: 
    *   Access logs for the specific `sensor-service` instance identified in the alert.
    *   Look for errors, crashes, or any indications of why it stopped reporting data.

*   **Check Resource Utilization**: 
    *   Verify CPU, memory, and network utilization for the `sensor-service` instance. Is it overloaded or stuck?

*   **Manually Restart Sensor Service**: 
    *   If logs don't provide clear answers, attempt a manual restart of the affected `sensor-service` instance.
    *   Monitor for data resumption after restart.

*   **Escalate**: If the issue persists after manual intervention, escalate to the SRE/On-Call team lead.

### 5. Resolution
*   Once sensor data resumes reporting correctly:
    *   Update the incident status in the `logging-service` to `resolved`.
    *   Document all manual actions taken in the incident record.
    *   Initiate a post-mortem if the incident was critical or recurring.

## Post-Mortem Trigger
*   If the incident caused significant impact (e.g., prolonged data loss, required manual intervention), a post-mortem is required.
*   Refer to the [Post-Mortem Template](docs/postmortems/template.md).

## Contact
*   **SRE Team**: #sre-oncall (Slack)
*   **DevOps Team**: #devops-support (Slack)
